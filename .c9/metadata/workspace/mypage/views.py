{"changed":true,"filter":false,"title":"views.py","tooltip":"/mypage/views.py","value":"from django.shortcuts import render\nfrom django.http import HttpResponse\nfrom django.db import models\nfrom django.contrib import admin\nfrom .forms import PostForm\nfrom .models import Post\nfrom django.shortcuts import render, get_object_or_404\n\n# Create your views here.\ndef index(request):\n    return render(request, 'mypage/index.html')\n    \ndef consumer(request):\n    return render(request, 'mypage/consumer.html')\n    \ndef merchants_area(request):\n    return render(request, 'mypage/merchants_area.html')\n    \ndef vendors_area(request):\n    return render(request, 'mypage/vendors_area.html')\n    \ndef board(request):\n    posts = Post.objects.all()\n    form = PostForm()\n\n    context = {\n        'form' : form,\n        'posts' : posts,\n    }\n    if request.method == 'POST':\n        form = PostForm(request.POST)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            return render(request, 'mypage/index.html')\n    else:\n      form = PostForm()\n      \n\n    return render(request, 'mypage/board.html', context)\n    \ndef post_detail(request, pk):\n    post = get_object_or_404(Post, pk=pk)\n    return render(request, 'mypage/post_detail.html', {'post': post})\n","undoManager":{"mark":99,"position":100,"stack":[[{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"remove","lines":["o"],"id":352}],[{"start":{"row":40,"column":4},"end":{"row":40,"column":5},"action":"remove","lines":["b"],"id":353}],[{"start":{"row":40,"column":4},"end":{"row":40,"column":5},"action":"insert","lines":["r"],"id":354}],[{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"insert","lines":["e"],"id":355}],[{"start":{"row":40,"column":6},"end":{"row":40,"column":7},"action":"insert","lines":["p"],"id":356}],[{"start":{"row":40,"column":7},"end":{"row":40,"column":8},"action":"insert","lines":["l"],"id":357}],[{"start":{"row":40,"column":8},"end":{"row":40,"column":9},"action":"insert","lines":["y"],"id":358}],[{"start":{"row":40,"column":8},"end":{"row":40,"column":9},"action":"remove","lines":["y"],"id":359}],[{"start":{"row":40,"column":7},"end":{"row":40,"column":8},"action":"remove","lines":["l"],"id":360}],[{"start":{"row":40,"column":6},"end":{"row":40,"column":7},"action":"remove","lines":["p"],"id":361}],[{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"remove","lines":["e"],"id":362}],[{"start":{"row":40,"column":4},"end":{"row":40,"column":5},"action":"remove","lines":["r"],"id":363}],[{"start":{"row":40,"column":4},"end":{"row":40,"column":5},"action":"insert","lines":["c"],"id":364}],[{"start":{"row":40,"column":5},"end":{"row":40,"column":6},"action":"insert","lines":["o"],"id":365}],[{"start":{"row":40,"column":6},"end":{"row":40,"column":7},"action":"insert","lines":["m"],"id":366}],[{"start":{"row":40,"column":7},"end":{"row":40,"column":8},"action":"insert","lines":["m"],"id":367}],[{"start":{"row":40,"column":8},"end":{"row":40,"column":9},"action":"insert","lines":["e"],"id":368}],[{"start":{"row":40,"column":9},"end":{"row":40,"column":10},"action":"insert","lines":["n"],"id":369}],[{"start":{"row":40,"column":10},"end":{"row":40,"column":11},"action":"insert","lines":["t"],"id":370}],[{"start":{"row":39,"column":0},"end":{"row":59,"column":56},"action":"remove","lines":["    ","def comment(request):","    posts = Post.objects.all()","    form = PostForm()","","    context = {","        'form' : form,","        'posts' : posts,","    }","    if request.method == 'POST':","        form = PostForm(request.POST)","        if form.is_valid():","            post = form.save(commit=False)","            post.author = request.user","            post.save()","            return render(request, 'mypage/index.html')","    else:","      form = PostForm()","      ","","    return render(request, 'mypage/index.html', context)"],"id":371}],[{"start":{"row":38,"column":39},"end":{"row":38,"column":40},"action":"remove","lines":["x"],"id":372}],[{"start":{"row":38,"column":38},"end":{"row":38,"column":39},"action":"remove","lines":["e"],"id":373}],[{"start":{"row":38,"column":37},"end":{"row":38,"column":38},"action":"remove","lines":["d"],"id":374}],[{"start":{"row":38,"column":36},"end":{"row":38,"column":37},"action":"remove","lines":["n"],"id":375}],[{"start":{"row":38,"column":35},"end":{"row":38,"column":36},"action":"remove","lines":["i"],"id":376}],[{"start":{"row":38,"column":35},"end":{"row":38,"column":36},"action":"insert","lines":["b"],"id":377}],[{"start":{"row":38,"column":36},"end":{"row":38,"column":37},"action":"insert","lines":["o"],"id":378}],[{"start":{"row":38,"column":37},"end":{"row":38,"column":38},"action":"insert","lines":["a"],"id":379}],[{"start":{"row":38,"column":38},"end":{"row":38,"column":39},"action":"insert","lines":["r"],"id":380}],[{"start":{"row":38,"column":39},"end":{"row":38,"column":40},"action":"insert","lines":["d"],"id":381}],[{"start":{"row":5,"column":24},"end":{"row":6,"column":0},"action":"insert","lines":["",""],"id":382}],[{"start":{"row":6,"column":0},"end":{"row":6,"column":54},"action":"insert","lines":["from django.shortcuts import render, get_object_or_404"],"id":383}],[{"start":{"row":39,"column":56},"end":{"row":40,"column":0},"action":"insert","lines":["",""],"id":384},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":40,"column":4},"end":{"row":41,"column":0},"action":"insert","lines":["",""],"id":385},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"remove","lines":["    "],"id":386}],[{"start":{"row":41,"column":0},"end":{"row":43,"column":67},"action":"insert","lines":["def post_detail(request, pk):","    post = get_object_or_404(Post, pk=pk)","    return render(request, 'blog/post_detail.html', {'post': post})"],"id":387}],[{"start":{"row":43,"column":31},"end":{"row":43,"column":32},"action":"remove","lines":["g"],"id":388}],[{"start":{"row":43,"column":30},"end":{"row":43,"column":31},"action":"remove","lines":["o"],"id":389}],[{"start":{"row":43,"column":29},"end":{"row":43,"column":30},"action":"remove","lines":["l"],"id":390}],[{"start":{"row":43,"column":28},"end":{"row":43,"column":29},"action":"remove","lines":["b"],"id":391}],[{"start":{"row":43,"column":28},"end":{"row":43,"column":29},"action":"insert","lines":["m"],"id":392}],[{"start":{"row":43,"column":29},"end":{"row":43,"column":30},"action":"insert","lines":["y"],"id":393}],[{"start":{"row":43,"column":30},"end":{"row":43,"column":31},"action":"insert","lines":["p"],"id":394}],[{"start":{"row":43,"column":31},"end":{"row":43,"column":32},"action":"insert","lines":["a"],"id":395}],[{"start":{"row":43,"column":32},"end":{"row":43,"column":33},"action":"insert","lines":["g"],"id":396}],[{"start":{"row":43,"column":33},"end":{"row":43,"column":34},"action":"insert","lines":["e"],"id":397}],[{"start":{"row":34,"column":52},"end":{"row":34,"column":53},"action":"remove","lines":["l"],"id":398}],[{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"remove","lines":["m"],"id":399}],[{"start":{"row":34,"column":50},"end":{"row":34,"column":51},"action":"remove","lines":["t"],"id":400}],[{"start":{"row":34,"column":49},"end":{"row":34,"column":50},"action":"remove","lines":["h"],"id":401}],[{"start":{"row":34,"column":48},"end":{"row":34,"column":49},"action":"remove","lines":["."],"id":402}],[{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"remove","lines":["x"],"id":403}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"remove","lines":["e"],"id":404}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"remove","lines":["d"],"id":405}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"remove","lines":["n"],"id":406}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"remove","lines":["i"],"id":407}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"insert","lines":["ㅔ"],"id":408}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"insert","lines":["ㅐ"],"id":409}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"insert","lines":["ㄴ"],"id":410}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"remove","lines":["ㄴ"],"id":412}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"remove","lines":["ㅐ"],"id":413}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"remove","lines":["ㅔ"],"id":414}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"insert","lines":["p"],"id":415}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"insert","lines":["o"],"id":416}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"insert","lines":["s"],"id":417}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"insert","lines":["t"],"id":418}],[{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"insert","lines":["/"],"id":419}],[{"start":{"row":34,"column":48},"end":{"row":34,"column":49},"action":"insert","lines":["{"],"id":420}],[{"start":{"row":34,"column":49},"end":{"row":34,"column":50},"action":"insert","lines":["{"],"id":421}],[{"start":{"row":34,"column":50},"end":{"row":34,"column":51},"action":"insert","lines":["}"],"id":422}],[{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"insert","lines":["}"],"id":423}],[{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"remove","lines":["}"],"id":424}],[{"start":{"row":34,"column":50},"end":{"row":34,"column":51},"action":"remove","lines":["}"],"id":425}],[{"start":{"row":34,"column":49},"end":{"row":34,"column":50},"action":"remove","lines":["{"],"id":426}],[{"start":{"row":34,"column":48},"end":{"row":34,"column":49},"action":"remove","lines":["{"],"id":427}],[{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"remove","lines":["/"],"id":428}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"remove","lines":["t"],"id":429}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"remove","lines":["s"],"id":430}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"remove","lines":["o"],"id":431}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"remove","lines":["p"],"id":432}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"insert","lines":["b"],"id":433}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"insert","lines":["o"],"id":434}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"insert","lines":["a"],"id":435}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"insert","lines":["r"],"id":436}],[{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"insert","lines":["d"],"id":437}],[{"start":{"row":34,"column":48},"end":{"row":34,"column":49},"action":"insert","lines":["."],"id":438}],[{"start":{"row":34,"column":49},"end":{"row":34,"column":50},"action":"insert","lines":["h"],"id":439}],[{"start":{"row":34,"column":50},"end":{"row":34,"column":51},"action":"insert","lines":["t"],"id":440}],[{"start":{"row":34,"column":51},"end":{"row":34,"column":52},"action":"insert","lines":["m"],"id":441}],[{"start":{"row":34,"column":52},"end":{"row":34,"column":53},"action":"insert","lines":["l"],"id":442}],[{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"remove","lines":["d"],"id":443}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"remove","lines":["r"],"id":444}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"remove","lines":["a"],"id":445}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"remove","lines":["o"],"id":446}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"remove","lines":["b"],"id":447}],[{"start":{"row":34,"column":43},"end":{"row":34,"column":44},"action":"insert","lines":["i"],"id":448}],[{"start":{"row":34,"column":44},"end":{"row":34,"column":45},"action":"insert","lines":["n"],"id":449}],[{"start":{"row":34,"column":45},"end":{"row":34,"column":46},"action":"insert","lines":["d"],"id":450}],[{"start":{"row":34,"column":46},"end":{"row":34,"column":47},"action":"insert","lines":["e"],"id":451}],[{"start":{"row":34,"column":47},"end":{"row":34,"column":48},"action":"insert","lines":["x"],"id":452}],[{"start":{"row":6,"column":54},"end":{"row":7,"column":0},"action":"insert","lines":["",""],"id":453}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":0},"end":{"row":7,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1517792488726}